name: Parking Full Rejection
version: 1

steps:
  - wait-serial: "Console ready"
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 0
  - delay: 100ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 1
  - wait-serial: "Ticket issued"
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 1
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 0
  - delay: 5000ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 0
  - delay: 100ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 1
  - wait-serial: "Ticket issued"
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 1
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 0
  - delay: 5000ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 0
  - delay: 100ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 1
  - wait-serial: "Ticket issued"
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 1
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 0
  - delay: 5000ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 0
  - delay: 100ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 1
  - wait-serial: "Ticket issued"
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 1
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 0
  - delay: 5000ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 0
  - delay: 100ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 1
  - wait-serial: "Ticket issued"
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 1
  - delay: 500ms
  - set-control:
      part-id: light-entry
      control: value
      value: 0
  - delay: 5000ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 0
  - delay: 100ms
  - set-control:
      part-id: btn-entry
      control: pressed
      value: 1
  - wait-serial: "Parking full"
  - wait-serial: "Idle"
